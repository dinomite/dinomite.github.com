<!doctype html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv='X-UA-Compatible' content='IE=edge;chrome=1' />
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>Code Golf: Grid Computing « Dinomite.net</title>

    <link href="/stylesheets/all.css" rel="stylesheet" />
    <link rel="alternate" type="application/atom+xml" title="Atom Feed" href="/blog/feed.xml" />
  </head>
  <body>

    <div id="main" role="main">
      <nav>
  <ul>
    <li>
      <span class="blog-title"><a class="blog-title" href="/">Dinomite.net</a></span>
      <span class="blog-subtitle">the blog of Drew Stephens</span>
    </li>
  </ul>
</nav>


      <div class="main-content">
        <p><a href="http://codegolf.com/grid-computing">A new puzzle</a> went up on <a href="http://codegolf.com">Code Golf</a> a few weeks ago and I finally got some time to sit down and hack on it, so here's another annotated instalment of my pruning process.  I haven't gotten anywhere near the smallest solutions which are half of my 109 characters.  See the action below, but don't look if you don't want hints!</p>

<p>Initially, a straightforward <code>for</code> loop that reads from standard input or a passed file; huzzah for Perl's built-in flexibility.  Within this loop, a counter, <code>$n</code>, is incremented to fill an array, <code>@c</code>, with the sum of each column; the sum of the row is stored in <code>$r</code>.  At the end of each iteration of the loop, the greatest row sum, <code>$a</code>, is set to the just-completed row if said row is greater than what has been seen previously or the answer is <code>undef</code>, as it is the first time through.  The lower loop puts the greatest column sum into <code>$b</code>.</p>

<p>My first pass through is 190 characters:</p>
<pre class="brush: perl;">
for (&lt;&gt;) {
	$n = $r = 0;
	for (split ' ', $_) {
		@c[$n] += $_;
		$r += $_;
		$n++;
	}

	$a = $r if ($r &gt; $a);
}

for (@c) {
	$b = $_ if ($_ &gt; $b);
}

($b &gt; $a) ? print $b.$/ : print $a.$/;
</pre>

<p>Note that Perl is flexible; by using <code>&lt;&gt;</code>, input can be passed as a file on the command line or via stdin.  With some quick re-ordering of the top loop and turning the lower loop into a <code>map</code>, 20 characters are saved.  170 characters:</p>
<pre class="brush: perl;">
for (&lt;&gt;) {
	$n = $r = 0;
	@c[$n++] += $_, $r += $_ for (split ' ', $_);

	$a = $r if ($r &gt; $a);
}

map {$b = $_ if ($_ &gt; $b)} @c;

($b &gt; $a) ? print $b.$/ : print $a.$/;
</pre>

<p>Much of the whitespace can be removed (though I'll leave the newlines for now).  Down to 138 characters:</p>
<pre class="brush: perl;">
for(&lt;&gt;){
	$n=$r=0;
	@c[$n++]+=$_, $r+=$_ for split' ',$_;
	$a=$r if $r&gt;$a;
}

map{$b=$_ if $_&gt;$b} @c;

$b&gt;$a ? print $b.$/ : print $a.$/;
</pre>

<p>The <code>print</code> can be simplified, dropping 6 characters:</p>
<pre class="brush: perl;">
for(&lt;&gt;){
	$n=$r=0;
	@c[$n++]+=$_, $r+=$_ for split' ',$_;
	$a=$r if $r&gt;$a;
}

map{$b=$_ if $_&gt;$b} @c;

print $b&gt;$a ? $b.$/ : $a.$/;
</pre>

<p>At which point I'm stuck.  After beating out the last bits of whitespace, that is 109 characters.</p>

      </div>

      <sidebar class="sidebar">
  <ul>
    <li><h5 class="heading">See Also</h5></li>
    <li>
      <ol>
        <li><a href="https://twitter.com/dinomite">Twitter</a></li>
        <li><a href="https://github.com/dinomite">GitHub</a></li>
        <li><a href="https://www.flickr.com/photos/dinomite">Flickr</a></li>
        <li><a href="http://pinboard.in/u:dinomite">Pinboard</a></li>
        <li><a href="http://www.last.fm/user/dinomite">Last.fm</a></li>
        <li><a href="http://search.cpan.org/~dinomite/">CPAN</a></li>
      </ol>
    </li>
  </ul>

  <ul>
    <li><h5 class="heading">Recent Articles</h5></li>
    <li>
      <ol>
            <li>
              <a href="/blog/2014/04/04/wunderground-with-the-lacrosse-c84612/">Wunderground with the LaCrosse C84612</a>
              <div class="article-link-date">Apr  4, 2014</div>
            </li>
            <li>
              <a href="/blog/2014/02/13/making-1080p-timelapses-with-lightroom/">Making 1080p Timelapses with Lightroom</a>
              <div class="article-link-date">Feb 13, 2014</div>
            </li>
            <li>
              <a href="/blog/2014/02/03/at-1-on-mac-os-x/">at(1) on Mac OS X</a>
              <div class="article-link-date">Feb  3, 2014</div>
            </li>
            <li>
              <a href="/blog/2014/01/25/anti-pull-dog-harnesses/">Anti-pull dog harnesses</a>
              <div class="article-link-date">Jan 25, 2014</div>
            </li>
            <li>
              <a href="/blog/2013/06/27/goruck-challenge-preparation/">GORUCK Challenge</a>
              <div class="article-link-date">Jun 27, 2013</div>
            </li>
            <li>
              <a href="/blog/2012/12/03/packing-bricks-for-the-goruck-challenge/">Packing Bricks for the GORUCK Challenge</a>
              <div class="article-link-date">Dec  3, 2012</div>
            </li>
            <li>
              <a href="/blog/2012/09/11/tough-mudder-mid-atlantic-2013/">Tough Mudder Mid-Atlantic 2012</a>
              <div class="article-link-date">Sep 11, 2012</div>
            </li>
            <li>
              <a href="/blog/2012/08/12/crumpler-haven-with-canon-40d/">Crumpler Haven With Canon 40D</a>
              <div class="article-link-date">Aug 12, 2012</div>
            </li>
            <li>
              <a href="/blog/2012/03/19/replacing-an-e36-window-motor/">Replacing an E36 Window Motor</a>
              <div class="article-link-date">Mar 19, 2012</div>
            </li>
            <li>
              <a href="/blog/2011/10/26/perl-and-dubstep/">Perl and Dubstep</a>
              <div class="article-link-date">Oct 26, 2011</div>
            </li>
      </ol>
    </li>
  </ul>

  <ul>
    <li><h5 class="heading">Tags</h5></li>
    <li>
      <ol>
            <li><a href="/blog/tags/computers/">Computers (3)</a></li>
            <li><a href="/blog/tags/linux/">Linux (3)</a></li>
            <li><a href="/blog/tags/uncategorized/">Uncategorized (5)</a></li>
            <li><a href="/blog/tags/networking/">Networking (1)</a></li>
            <li><a href="/blog/tags/cars/">Cars (3)</a></li>
            <li><a href="/blog/tags/programming/">Programming (1)</a></li>
            <li><a href="/blog/tags/politics/">Politics (2)</a></li>
      </ol>
    </li>
  </ul>
</sidebar>

    </div>

    <footer>
  Copyright 2005–2016 Drew Stephens
</footer>

  </body>
</html>
