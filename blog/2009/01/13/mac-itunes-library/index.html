<!doctype html>
<html>
<head>
  <meta charset="utf-8" />
  <meta http-equiv='X-UA-Compatible' content='IE=edge;chrome=1' />
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>Mac::iTunes::Library « Dinomite.net</title>

  <link href="/stylesheets/all.css" rel="stylesheet" />
  <link rel="alternate" type="application/atom+xml" title="Atom Feed" href="/atom.xml" />
  <script src="https://app.chataco.com/assets/inpage/inpage.bundle.js"></script>
</head>

<body>
<div id="main" role="main">
  <nav>
  <ul>
    <li>
      <span class="blog-title"><a class="blog-title" href="/">Dinomite.net</a></span>
      <span class="blog-subtitle">the blog of Drew Stephens</span>
    </li>
  </ul>
</nav>


  <div class="main-content">
    <h1 class="article-title">Mac::iTunes::Library</h1>
    <div class="article-title-date">Jan 13, 2009</div>
    <p>Though <a href="http://last.fm/user/dinomite">I use Last.fm</a> it&rsquo;s not a perfect representation of my listening habits.  Between the occasional server downtime, not uncommon in the Audioscrobbler days, I wanted to be able to get some accurate statistics about my music library.  It&rsquo;s easy to create smart playlists to find the number of songs you have of each genre or by each artist in your library, but much more interesting is to see what you actually listen to the most.  There are a number of artist whom I only have a limited collection of, but enjoy quite a lot.  DJ Miko being a great example - 10th by number of tracks, but a strong 3rd by playcount.  I just can&rsquo;t get enough of those Eurodance beats.  Conversely, Scooter is a prolific producer, but a long way from my favorite artist.</p>

<p>Genre-wise, I&rsquo;ve got a <strong>lot</strong> of trance, but apparently end up listening to Ska more.  Is that really true?  Well, it is by playcount, but I should probably to a listing based upon playcount times song length; Trance tracks tend to be lengthy, especially if you count the numerous DJ mixes I have.  By this same token, I&rsquo;d venture a guess that the average song length of my library, 5 minutes 13 seconds is on the longer end of the spectrum.  Finally, the ratio of songs to artists is a quite reflection of whether a library is represented by an encyclopedic collection for each artist (high ratio) or a schizophrenic mix of singles (lower ratio).  I have no idea what an absolute scale for this number is, but I&rsquo;d love to hear results from others.</p>

<p>Also, my library has grown quite a bit:
<pre class="brush: bash; light: true">
Number of tracks: 10737
Total size: 85605.68 MB         Average size: 7.97 MB
Total time: 38d 23h 3m 0s       Average time: 5m13s
Ratio of songs/artists: 4.576726342711</p>

<p>Most popular artists, by number of tracks:
        137     ATB
        118     Scooter
        116     blink-182
        115     Armin van Buuren
        111     Paul van Dyk</p>

<p>Most popular artists, by playcount:
        1585    blink-182
        1279    Goldfinger
        873     DJ Miko &amp; Mini Me
        837     Less Than Jake
        753     Big D and the Kids Table</p>

<p>Most popular genres, by number of tracks:
        1627    Trance
        1219    Dance
        1073    Ska
        628     Rock
        583     Vocal Trance</p>

<p>Most popular genres, by playcount:
        8448    Ska
        6334    Dance
        5328    Trance
        2846    Punk
        2723    Rock
</pre></p>

<p>It&rsquo;s certainly been a while since I <a href="http://dinomite.net/2006/itunes-library-statistics/">started this project</a> and the <a href="http://search.cpan.org/~dinomite/Mac-iTunes-Library/lib/Mac/iTunes/Library.pm">module</a> that I spun off of it has been around for a good while.  I&rsquo;ve compiled <a href="http://dinomite.net/wp-content/uploads/2009/01/itunesstats">the script</a> into a PAR that should run without needing Perl or any modules on any 64 bit Mac OS X machine.  From a terminal:</p>

<pre class="brush: bash; gutter: false">
wget http://dinomite.net/2009/01/itunesstats
chmod +x itunesstats
./itunesstats ~/Music/iTunes/iTunes\ Music\ Library.xml 5
</pre>

<p>If that doesn&rsquo;t work for you, you can simply <a href="http://sial.org/howto/perl/life-with-cpan/macosx/">install Mac::iTunes::Library with CPAN</a>; CPAN might require configuration but, except for mirror selection, the defaults will work:</p>

<pre class="brush: bash; light: true">
$ sudo -H cpan -i Mac::iTunes::Library
</pre>

<p>With the module installed, you can download and run the <a href="http://cpansearch.perl.org/src/DINOMITE/Mac-iTunes-Library-0.62/examples/iTunesStats.pl">example script</a>.</p>

<p>Details on the code: <a href="http://search.cpan.org/~dinomite/Mac-iTunes-Library/">The module</a> allows you to parse the iTunes XML library which is generated by iTunes every time the library changes.  iTunes itself uses a binary file to manage your music and the XML is only generated as a courtesy.  Thus, my module can represent a library and the items within it in full, but I only have a parser for the XML and provide no way of emitting a new XML library.  <a href="http://www252.pair.com/comdog/">brian d foy</a> has <a href="http://search.cpan.org/~bdfoy/Mac-iTunes/">a module</a> that is able to parse the binary iTunes - as long as it&rsquo;s version 4.5.  For the uninformed, we&rsquo;re on iTunes 8 these days.  Updating that module might be my next project.</p>

  </div>

  <sidebar class="sidebar">
  <ul>
    <li><h5 class="heading">See Also</h5></li>
    <li>
      <ol>
        <li><a href="https://twitter.com/dinomite">Twitter</a></li>
        <li><a href="https://github.com/dinomite">GitHub</a></li>
        <li><a href="https://www.flickr.com/photos/dinomite">Flickr</a></li>
        <li><a href="http://pinboard.in/u:dinomite">Pinboard</a></li>
        <li><a href="http://www.last.fm/user/dinomite">Last.fm</a></li>
        <li><a href="http://search.cpan.org/~dinomite/">CPAN</a></li>
      </ol>
    </li>
  </ul>

  <ul>
    <li><h5 class="heading">Recent Articles</h5></li>
    <li>
      <ol>
            <li>
              <a href="/blog/2017/07/15/kotlin-s-let/">Kotlin's let()</a>
              <div class="article-link-date">Jul 15, 2017</div>
            </li>
            <li>
              <a href="/blog/2017/07/12/coding-tests/">Coding Tests</a>
              <div class="article-link-date">Jul 12, 2017</div>
            </li>
            <li>
              <a href="/blog/2017/01/19/jdbi-tips/">JDBI Tips</a>
              <div class="article-link-date">Jan 19, 2017</div>
            </li>
            <li>
              <a href="/blog/2016/09/23/diy-stretch-webbing-leash-a-la-ruffwear-roamer/">DIY Stretch Webbing Leash (à la Ruffwear® Roamer™)</a>
              <div class="article-link-date">Sep 23, 2016</div>
            </li>
            <li>
              <a href="/blog/2016/05/18/optional-authentication-with-dropwizard/">Optional Authentication with Dropwizard</a>
              <div class="article-link-date">May 18, 2016</div>
            </li>
            <li>
              <a href="/blog/2016/05/02/reading-devise-sessions-in-java/">Reading Devise Sessions in Java</a>
              <div class="article-link-date">May  2, 2016</div>
            </li>
            <li>
              <a href="/blog/2016/03/18/better-rails.cache-invalidation-with-quick-queries/">Better Rails.cache Invalidation with Quick Queries</a>
              <div class="article-link-date">Mar 18, 2016</div>
            </li>
            <li>
              <a href="/blog/2016/03/07/winter-tech-forum-is-the-finest/">Winter Tech Forum is The Finest</a>
              <div class="article-link-date">Mar  7, 2016</div>
            </li>
            <li>
              <a href="/blog/2014/12/30/serene-night-biking/">Serene night biking</a>
              <div class="article-link-date">Dec 30, 2014</div>
            </li>
            <li>
              <a href="/blog/2014/04/04/wunderground-with-the-lacrosse-c84612/">Wunderground with the LaCrosse C84612</a>
              <div class="article-link-date">Apr  4, 2014</div>
            </li>
      </ol>
    </li>
  </ul>

  <ul>
    <li><h5 class="heading">Tags</h5></li>
    <li>
      <ol>
            <li><a href="/blog/tags/networking/">Networking (1)</a></li>
            <li><a href="/blog/tags/cars/">Cars (3)</a></li>
            <li><a href="/blog/tags/tech/">Tech (4)</a></li>
            <li><a href="/blog/tags/rails/">Rails (2)</a></li>
            <li><a href="/blog/tags/uncategorized/">Uncategorized (5)</a></li>
            <li><a href="/blog/tags/programming/">Programming (4)</a></li>
            <li><a href="/blog/tags/hiring/">Hiring (1)</a></li>
            <li><a href="/blog/tags/java/">Java (2)</a></li>
            <li><a href="/blog/tags/kotlin/">Kotlin (2)</a></li>
            <li><a href="/blog/tags/dropwizard/">Dropwizard (1)</a></li>
            <li><a href="/blog/tags/politics/">Politics (2)</a></li>
            <li><a href="/blog/tags/linux/">Linux (3)</a></li>
            <li><a href="/blog/tags/computers/">Computers (3)</a></li>
            <li><a href="/blog/tags/biking/">biking (1)</a></li>
            <li><a href="/blog/tags/diy/">DIY (1)</a></li>
            <li><a href="/blog/tags/dogs/">Dogs (1)</a></li>
      </ol>
    </li>
  </ul>

  <ul>
    <li><h5 class="heading">Posts by Year</h5></li>
        <li><a href="/blog/2005">2005</a></li>
        <li><a href="/blog/2006">2006</a></li>
        <li><a href="/blog/2007">2007</a></li>
        <li><a href="/blog/2008">2008</a></li>
        <li><a href="/blog/2009">2009</a></li>
        <li><a href="/blog/2010">2010</a></li>
        <li><a href="/blog/2011">2011</a></li>
        <li><a href="/blog/2012">2012</a></li>
        <li><a href="/blog/2013">2013</a></li>
        <li><a href="/blog/2014">2014</a></li>
        <li><a href="/blog/2015">2015</a></li>
        <li><a href="/blog/2016">2016</a></li>
  </ul>
</sidebar>

</div>

<footer>
  Copyright 2005–2016 Drew Stephens
</footer>

<script type="text/javascript">
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-2474105-1', 'auto');
  ga('send', 'pageview');
</script>

</body>
</html>
